(this["webpackJsonpjr-assessment-jing"]=this["webpackJsonpjr-assessment-jing"]||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(9),r=a.n(o),i=(a(19),a(13)),s=a(2),l=(a(5),a(11)),m=a(10),u=a(12);function d(e){var t=e.selectedAssets,a=e.setMasterId,o=e.masterId,r=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(e)}),[e]),[c,function(e){o(Object(u.a)(c.sort((function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}))))}]}(t),i=Object(s.a)(r,2),l=i[0],m=i[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"sortForm"},0!==t.length?c.a.createElement(p,{setSortAssets:m}):null),c.a.createElement("div",{className:"assetsInfo"},l.map((function(e){return c.a.createElement(g,{key:e.id,ID:e.id,name:e.name,path:"https://jing-chu.github.io/react_hooks/images/".concat(e.path),collectionId:e.collectionId,setMasterId:a,masterId:o})}))))}var p=function(e){var t=e.setSortAssets,a=Object(n.useState)("name"),o=Object(s.a)(a,2),r=o[0],i=o[1];return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(r)}},c.a.createElement("label",{className:"sort-label"},"Sort by:",c.a.createElement("select",{className:"sort-select",value:r,onChange:function(e){return i(e.target.value)}},c.a.createElement("option",{value:"name"},"Name"),c.a.createElement("option",{value:"id"},"Id"))),c.a.createElement("input",{type:"submit",value:"Sort"}))},g=function(e){var t=e.ID,a=e.name,n=e.path,o=e.collectionId,r=e.setMasterId,i=e.masterId;return c.a.createElement("div",{className:"asset-card"},c.a.createElement("img",{src:n,alt:a,width:"150",height:"150"}),c.a.createElement("div",{className:"asset-detail"},c.a.createElement("p",null,"Name: ",a),c.a.createElement("p",null,"ID: ",t),t===i?c.a.createElement(m.a,{icon:l.a,size:"2x"}):c.a.createElement("button",{className:"master",onClick:function(){r(o,t)}},"Set Master")))},f=[{id:1,name:"The Simpsons",masterAssetId:13,tags:{name:"Cartoon",subTag:{name:"Simpsons family",subTag:{name:"2014"}}}},{id:2,name:"Super heroes",masterAssetId:24,tags:{name:"DC Super heroes",subTag:{name:"2014"}}},{id:3,name:"Toy story",masterAssetId:31,tags:{name:"Disney",subTag:{name:"Pixar",subTag:{name:"Original movie",subTag:{name:"2010"}}}}},{id:4,name:"Ninjago",masterAssetId:42,tags:{name:"Ninja",subTag:{name:"Secret Ninja Force",subTag:{name:"2017"}}}}],h=[{id:11,name:"Homer Simpson",path:"Homer.jpg",collectionId:1},{id:12,name:"Lisa Simpson",path:"Lisa.jpg",collectionId:1},{id:13,name:"Bart Simpson",path:"Bart.jpg",collectionId:1},{id:14,name:"Marge Simpson",path:"Marge.jpg",collectionId:1},{id:15,name:"Grampa Simpson",path:"Grampa.jpg",collectionId:1},{id:16,name:"Maggie Simpson",path:"Maggie.jpg",collectionId:1},{id:21,name:"Green Lantern",path:"Green lantern.jpg",collectionId:2},{id:22,name:"Flash",path:"Flash.jpg",collectionId:2},{id:23,name:"Batman",path:"Batman.jpg",collectionId:2},{id:24,name:"Superman",path:"Superman.jpg",collectionId:2},{id:31,name:"Buzz Lightyear",path:"Buzz.jpg",collectionId:3},{id:32,name:"Alien",path:"Alien.jpg",collectionId:3},{id:41,name:"Spinjitzu training Nya",path:"Nya.jpg",collectionId:4},{id:42,name:"Master Wu",path:"Wu.jpg",collectionId:4},{id:43,name:"Lloyd",path:"Lloyd.jpg",collectionId:4}];function I(e){var t=e.setDataFromCollection,a=e.setDefaultMasterId,o=e.masterIdObj,r=Object(n.useState)([]),i=Object(s.a)(r,2),l=i[0],m=i[1];Object(n.useEffect)((function(){new Promise((function(e){return setTimeout((function(){return e(f)}),1e3)})).then((function(e){m(e),e.forEach((function(e){a(e.id,e.masterAssetId)}))}))}),[]);var u=function e(t){return"subTag"in t===!1?t.name:"".concat(t.name," > ").concat(e(t.subTag))};return c.a.createElement("div",{className:"collectionsInfo"},c.a.createElement("h1",null,"Please select one collection"),l.map((function(e){return c.a.createElement(j,{key:e.id,ID:e.id,name:e.name,tag:u(e.tags),setDataFromCollection:t,masterId:o[e.id]||e.masterAssetId})})))}var j=function(e){var t=e.ID,a=e.name,o=e.tag,r=e.setDataFromCollection,i=e.masterId,l=Object(n.useState)(""),m=Object(s.a)(l,2),u=m[0],d=m[1],p=function(e){e.preventDefault(),function(e){var t=h.filter((function(t){return t.collectionId===e}));return new Promise((function(e){return setTimeout((function(){return e(t)}),1e3)}))}(t).then((function(e){r(e)}))};return Object(n.useEffect)((function(){(function(e){var t=h.find((function(t){return t.id===e}));if(!t)throw new Error("Asset not found"+e);return new Promise((function(e){return setTimeout((function(){return e(t)}),500)}))})(i).then((function(e){d("https://jing-chu.github.io/react_hooks/images/"+e.path)}))}),[i]),c.a.createElement("div",null,c.a.createElement("p",null,o),c.a.createElement("div",{className:"collection-card"},c.a.createElement("img",{className:"collection-img",src:u,alt:a,onClick:p,width:"150",height:"150"}),c.a.createElement("div",{className:"collection-detail"},c.a.createElement("p",{className:"collection-select",onClick:p},a))))};function b(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)({}),l=Object(s.a)(r,2),m=l[0],u=l[1],p=function(e,t){if(m[e]!==t){var a=Object(i.a)({},m);a[e]=t,u(a)}},g=0===a.length?0:m[a[0].collectionId];return c.a.createElement("div",{className:"app"},c.a.createElement(I,{setDataFromCollection:function(e){o(e)},setDefaultMasterId:p,masterIdObj:m}),c.a.createElement(d,{selectedAssets:a,setMasterId:p,masterId:g}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){}},[[14,1,2]]]);
//# sourceMappingURL=main.f9250c9b.chunk.js.map